---
import { Colaborators } from './Colaborators'
import { ArrowUp } from './Icons'

const { projects } = Astro.props
---

<div class="block mt-8 relative overflow-hidden">
  <ul class="grid grid-bento grid-cols-3 grid-rows-3 gap-6 mt-8 relative">
    {
      projects.map((project, index) => (
        <li
          style={{
            gridArea: `item${index}`
          }}
          class="aspect-video block relative group"
        >
          <picture class="block rounded-lg overflow-hidden relative">
            <span class="inset-0 bg-black bg-opacity-30 absolute " />
            <img
              src={project.image}
              alt={project.name + ' image By Eduardo Guette' }
              referrerpolicy="no-referrer"
              loading="lazy"
              width={project.image}
              class="object-cover "
            />
          </picture>
          <a
            href={project.url}
            target="_blank"
            class="absolute inset-0 z-20 w-max h-max bg-black backdrop-blur-md px-3 py-1 rounded-full text-xs border bg-opacity-60 border-gray-600 m-auto flex items-center gap-2 group-hover:opacity-100 opacity-0 transition-opacity duration-300"
          >
            {project.name}
            <span class="border-l pl-2">
              <ArrowUp className={'h-3 w-3'} />
            </span>
          </a>

          <article class="hidden">
            <div class="p-5 ">
              <h3 class="font-bold text-lg mt-1">{project.name}</h3>
              <p class="text-ellipsis ">{project.description}</p>
            </div>
            <footer class="flex mt-auto w-full p-5 pt-0  text-sm  gap-2 items-center">
              <div class="flex items-start gap-2">
                <div class="flex  justify-end sm:justify-start lg:justify-end xl:justify-start -space-x-2 w-max">
                  {project.colaborators.map((colaborator) => (
                    <Colaborators colaborator={colaborator} />
                  ))}
                </div>
              </div>
              <div class="w-max ml-auto flex items-center gap-2 ">
                <a
                  href={project.github}
                  target="_blank"
                  class=" bg-twilight-primary hover:bg-twilight-secondary rounded-full px-2 py-1 font-medium "
                >
                  Code
                </a>
                <a
                  href={project.url}
                  target="_blank"
                  class="  rounded-full px-2 py-1 bg-yellow-200 hover:bg-yellow-100 text-black font-medium"
                >
                  Live
                </a>
              </div>
            </footer>
          </article>
        </li>
      ))
    }
  </ul>
  <div
    class="h-44 -bottom-6 w-[120%] -left-6 absolute bg-gradient-to-b from-transparent to-black"
  >
  </div>
</div>
